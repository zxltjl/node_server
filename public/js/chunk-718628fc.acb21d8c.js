(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-718628fc"],{"498a":function(e,t,a){"use strict";var s=a("23e7"),i=a("58a8").trim,r=a("e070");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},6159:function(e,t,a){"use strict";var s=a("7904"),i=a.n(s);i.a},7904:function(e,t,a){},af72:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search",{on:{reset:e.reset,search:e.search}},[a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}})],1)],1),a("a-button",{staticClass:"margin",attrs:{type:"primary"},on:{click:e.addUser}},[e._v(" 新增 ")]),a("a-alert",{staticClass:"alert-info",attrs:{type:"info","show-icon":""}},[a("span",{attrs:{slot:"message"},slot:"message"},[e._v(" 已选择 "),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.selectedKeys.length))]),e._v(" 项 ")])]),a("PTable",{attrs:{"is-bordered":"",size:"small",columns:e.columns,"selected-keys":e.selectedKeys,"is-reload":e.isReload,data:e.loadData,"is-number":""},on:{"update:selectedKeys":function(t){e.selectedKeys=t},"update:selected-keys":function(t){e.selectedKeys=t},"update:isReload":function(t){e.isReload=t},"update:is-reload":function(t){e.isReload=t}},scopedSlots:e._u([{key:"age",fn:function(t){var s=t.value;return[a("span",{staticStyle:{color:"red","font-size":"24px"}},[e._v(e._s(s))])]}},{key:"action",fn:function(t){return[a("a-button",{staticClass:"margin",attrs:{type:"primary"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("a-popconfirm",{attrs:{title:"确认删除这条信息？","ok-text":"确认","cancel-text":"取消"},on:{confirm:function(a){return e.del(t.row.id)}}},[a("a-button",{attrs:{type:"danger"}},[e._v("删除")])],1)]}}])}),a("a-modal",{attrs:{title:"新增用户","destroy-on-close":"",visible:e.visible},on:{ok:e.submit,cancel:function(t){e.visible=!e.visible}}},[a("a-form",{attrs:{form:e.form},on:{submit:e.submit}},[a("a-form-item",e._b({attrs:{label:"姓名"}},"a-form-item",e.formLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.getRules("username"),expression:"getRules('username')"}],attrs:{placeholder:"请输入姓名"}})],1),a("a-form-item",e._b({attrs:{label:"电话"}},"a-form-item",e.formLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.getRules("phone"),expression:"getRules('phone')"}],attrs:{placeholder:"请输入电话"}})],1),a("a-form-item",e._b({attrs:{label:"地址"}},"a-form-item",e.formLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.getRules("address"),expression:"getRules('address')"}],attrs:{placeholder:"请输入地址"}})],1),a("a-form-item",e._b({attrs:{label:"邮箱"}},"a-form-item",e.formLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.getRules("email"),expression:"getRules('email')"}],attrs:{placeholder:"请输入邮箱"}})],1)],1)],1)],1)},i=[],r=(a("b0c0"),a("d3b7"),a("25f0"),a("498a"),[{title:"姓名",key:"username",align:"center"},{title:"地址",key:"address",align:"center"},{title:"电话",key:"phone",align:"center"},{title:"邮箱",key:"email",align:"center"},{title:"操作",key:"action",width:250,align:"center"}]),n=a("c24f"),o={data:function(){return{columns:r,isReload:!1,selectedKeys:[],params:{name:void 0},form:this.$form.createForm(this),visible:!1,formLayout:{labelCol:{span:5},wrapperCol:{span:12}},methodName:void 0,edit_id:void 0}},created:function(){this.setRules()},mounted:function(){},methods:{loadData:function(e){var t=this;return new Promise((function(a,s){Object(n["e"])(Object.assign(e,t.params)).then((function(e){a(e)})).catch((function(e){s(e)}))}))},del:function(e){var t=this;Object(n["b"])(e).then((function(){t.$message.success("删除成功"),t.isReload=!0})).catch((function(e){e&&t.$message.error("删除失败")}))},addUser:function(){this.methodName="add",this.visible=!0},setRules:function(){this.ruleForm={username:{initialValue:"",validateFirst:!0,normalize:function(e){return e?e.toString().trim():null},rules:[{required:!0,whitespace:!0,message:"请输入你的用户名!"},{min:2,message:"不少于2个字符"},{max:30,message:"不超过30个字符"}]},phone:{initialValue:"",validateFirst:!0,normalize:function(e){return e?e.toString().trim():null},rules:[{required:!0,whitespace:!0,message:"请输入你的电话!"},{min:2,message:"不少于2个字符"},{max:30,message:"不超过30个字符"}]},address:{initialValue:"",validateFirst:!0,normalize:function(e){return e?e.toString().trim():null},rules:[{required:!0,whitespace:!0,message:"请输入你的地址!"},{min:2,message:"不少于2个字符"},{max:30,message:"不超过30个字符"}]},email:{initialValue:"",validateFirst:!0,normalize:function(e){return e?e.toString().trim():null},rules:[{required:!0,whitespace:!0,message:"请输入你的邮箱!"},{min:2,message:"不少于2个字符"},{max:30,message:"不超过30个字符"}]}}},getRules:function(e){return[e,this.ruleForm[e]]},submit:function(){var e=this;this.form.validateFieldsAndScroll((function(t,a){t||("add"===e.methodName?Object(n["a"])(a).then((function(){e.$message.success("新增成功"),e.isReload=!0,e.visible=!1})).catch((function(t){t&&e.$message.error("新增失败")})):Object(n["d"])(e.edit_id,a).then((function(){e.$message.success("编辑成功"),e.isReload=!0,e.visible=!1})).catch((function(t){t&&e.$message.error("编辑失败")})))}))},edit:function(e){var t=this;this.methodName="edit",this.visible=!0,this.edit_id=e.id,setTimeout((function(){t.form.setFieldsValue({username:e.username,phone:e.phone,address:e.address,email:e.email})}),0)},search:function(){this.isReload=!0},reset:function(){this.params.name=void 0,this.isReload=!0}}},l=o,c=(a("6159"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"52f91f9a",null);t["default"]=u.exports},e070:function(e,t,a){var s=a("d039"),i=a("5899"),r="​᠎";e.exports=function(e){return s((function(){return!!i[e]()||r[e]()!=r||i[e].name!==e}))}}}]);